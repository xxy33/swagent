# SolidWaste-Agent 全局配置文件

# 应用信息
app:
  name: "SolidWaste-Agent"
  version: "0.1.0"
  description: "固体废物领域智能Agent框架"
  debug: false

# LLM配置
llm:
  # 默认提供商: openai, local, azure
  default_provider: "openai"
  
  # 提供商配置
  providers:
    openai:
      api_key: "${OPENAI_API_KEY}"  # 从环境变量读取
      base_url: "https://api.openai.com/v1"
      default_model: "gpt-4"
      timeout: 60
      max_retries: 3
      
    local:
      base_url: "http://localhost:8000"
      default_model: "qwen-7b"
      timeout: 120
      
    azure:
      api_key: "${AZURE_OPENAI_KEY}"
      endpoint: "${AZURE_OPENAI_ENDPOINT}"
      api_version: "2023-12-01-preview"
      default_model: "gpt-4"

# Agent配置
agents:
  # 默认参数
  default_temperature: 0.7
  default_max_tokens: 4096
  memory_window_size: 20
  
  # 预定义Agent配置
  planner:
    name: "规划Agent"
    role: "任务规划师"
    model: "gpt-4"
    temperature: 0.5
    max_tokens: 4096
    description: "负责分析任务、制定执行计划并协调其他Agent完成工作"

  coder:
    name: "代码Agent"
    role: "程序员"
    model: "gpt-4"
    temperature: 0.2
    max_tokens: 8192
    description: "负责代码生成、调试和执行"

  writer:
    name: "写作Agent"
    role: "技术写手"
    model: "gpt-4"
    temperature: 0.7
    max_tokens: 8192
    description: "负责撰写报告、论文和技术文档"

  researcher:
    name: "研究Agent"
    role: "科研助手"
    model: "gpt-4"
    temperature: 0.5
    max_tokens: 4096
    description: "负责文献检索、数据收集和研究分析"

  data_agent:
    name: "数据Agent"
    role: "数据分析师"
    model: "gpt-4"
    temperature: 0.3
    max_tokens: 4096
    description: "负责数据处理、统计分析和可视化"

  reviewer:
    name: "审核Agent"
    role: "质量审核员"
    model: "gpt-4"
    temperature: 0.4
    max_tokens: 4096
    description: "负责内容审核、质量检查和改进建议"

# 编排器配置
orchestrator:
  # 编排模式: sequential, parallel, hierarchical, collaborative
  default_mode: "hierarchical"
  max_concurrent_agents: 5
  task_timeout: 300  # 秒
  retry_on_failure: true
  max_retries: 3

# 工具配置
tools:
  # 启用的工具列表
  enabled:
    - code_executor
    - file_handler
    - web_search
    - calculator
    - emission_calculator
    - lca_analyzer
    - waste_classifier

  # 代码执行器
  code_executor:
    timeout: 30
    allowed_languages:
      - python
      - r
      - javascript
    sandbox: true
    max_memory_mb: 512

  # 文件处理器
  file_handler:
    allowed_extensions:
      - .txt
      - .csv
      - .json
      - .xlsx
      - .pdf
      - .md
    max_file_size_mb: 50

  # 网络搜索
  web_search:
    provider: "google"  # google, bing, duckduckgo
    max_results: 10
    timeout: 30

# 固废领域配置
domain:
  name: "固体废物管理"
  knowledge_base_path: "./data/knowledge_base"
  
  # 废物分类标准
  waste_categories:
    - municipal_solid_waste      # 城市生活垃圾
    - industrial_waste           # 工业固废
    - hazardous_waste           # 危险废物
    - construction_waste        # 建筑垃圾
    - agricultural_waste        # 农业废弃物
    - medical_waste             # 医疗废物

  # 处理方法
  treatment_methods:
    - landfill                  # 填埋
    - incineration             # 焚烧
    - composting               # 堆肥
    - recycling                # 回收
    - anaerobic_digestion      # 厌氧消化
    - pyrolysis                # 热解
    - gasification             # 气化

  # 评估方法
  assessment_methods:
    - lca                       # 生命周期评估
    - carbon_footprint         # 碳足迹
    - material_flow_analysis   # 物质流分析
    - cost_benefit_analysis    # 成本效益分析

# 日志配置
logging:
  # 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"
  
  # 文件输出
  file:
    enabled: true
    path: "./logs/swagent.log"
    max_size: "10MB"
    backup_count: 5
    encoding: "utf-8"
  
  # 控制台输出
  console:
    enabled: true
    colored: true

# 存储配置
storage:
  # 存储类型: local, redis, mongodb
  type: "local"
  
  # 本地存储
  local:
    base_path: "./data"
    cache_path: "./data/cache"
    
  # Redis配置
  redis:
    host: "localhost"
    port: 6379
    db: 0
    password: ""
    max_connections: 10
    
  # MongoDB配置
  mongodb:
    host: "localhost"
    port: 27017
    database: "swagent"
    username: ""
    password: ""

# 缓存配置
cache:
  enabled: true
  backend: "memory"  # memory, redis, disk
  ttl: 3600  # 缓存过期时间（秒）
  max_size: 1000  # 最大缓存项数

# 安全配置
security:
  # API密钥加密
  encrypt_api_keys: false
  
  # 代码执行安全
  code_execution:
    enable_sandbox: true
    allowed_imports:
      - os
      - sys
      - json
      - pandas
      - numpy
      - matplotlib
    blocked_functions:
      - eval
      - exec
      - __import__

# 性能配置
performance:
  # 并发设置
  max_concurrent_tasks: 10
  
  # 超时设置
  default_timeout: 300
  llm_timeout: 60
  tool_timeout: 30
  
  # 重试设置
  max_retries: 3
  retry_delay: 1  # 秒
  
  # 限流设置
  rate_limit:
    enabled: false
    requests_per_minute: 60

# 开发配置
development:
  # 调试模式
  debug: false
  
  # 详细输出
  verbose: false
  
  # 保存中间结果
  save_intermediate_results: true
  intermediate_results_path: "./data/intermediate"
  
  # 性能监控
  enable_profiling: false

# 实验性功能
experimental:
  # 多模态支持
  multimodal: false
  
  # 自动优化提示词
  auto_optimize_prompts: false
  
  # 协作学习
  collaborative_learning: false
