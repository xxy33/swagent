# SWAgent - ä¸“ä¸šå¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ

[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

**SWAgent** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼Œä¸“ä¸ºè§£å†³å¤æ‚çš„ç ”ç©¶ã€ä¼ä¸šå’Œæ”¿åºœé—®é¢˜è€Œè®¾è®¡ã€‚ç³»ç»Ÿé›†æˆäº†å…ˆè¿›çš„LLMæŠ€æœ¯ã€å¤šAgentåä½œæ¡†æ¶ã€ä¸“ä¸šå·¥å…·é›†å’Œé¢†åŸŸçŸ¥è¯†åº“ï¼Œèƒ½å¤Ÿé«˜æ•ˆå®Œæˆå¤æ‚é—®é¢˜åˆ†æã€é•¿ç¯‡æŠ¥å‘Šæ’°å†™ç­‰ä¸“ä¸šä»»åŠ¡ã€‚

## ğŸ¯ æ ¸å¿ƒåº”ç”¨åœºæ™¯

### 1. ä¸“ä¸šå¤šæ™ºèƒ½ä½“é—®é¢˜è§£å†³ç³»ç»Ÿ
é€šè¿‡å¤šä¸ªä¸“ä¸šAgentçš„åä½œï¼Œæ·±åº¦åˆ†æå’Œè§£å†³ç ”ç©¶ã€ä¼ä¸šå’Œæ”¿åºœé¢†åŸŸçš„å¤æ‚é—®é¢˜ã€‚

### 2. å‚åŸŸé•¿æ–‡æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ
è‡ªåŠ¨åŒ–ç”Ÿæˆé«˜è´¨é‡çš„ä¸“ä¸šåˆ†ææŠ¥å‘Šã€ç ”ç©¶æŠ¥å‘Šã€æŠ€æœ¯è¯„ä¼°ç­‰é•¿ç¯‡æ–‡æ¡£ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¤– æ™ºèƒ½Agentç³»ç»Ÿ
- **å¤šç§Agentç±»å‹**ï¼šPlannerAgentï¼ˆè§„åˆ’ï¼‰ã€ReActAgentï¼ˆæ¨ç†-è¡ŒåŠ¨ï¼‰
- **å¤šAgentåä½œ**ï¼šæ”¯æŒè¾©è®ºã€æŠ•ç¥¨ã€å…±è¯†ç­‰åä½œæ¨¡å¼
- **æ¶ˆæ¯æ€»çº¿**ï¼šç»Ÿä¸€çš„Agenté—´é€šä¿¡æœºåˆ¶
- **é€Ÿç‡é™åˆ¶**ï¼šé˜²æ­¢APIè¿‡è½½çš„æ™ºèƒ½é™æµ

### ğŸ› ï¸ å¼ºå¤§çš„å·¥å…·ç³»ç»Ÿ
- **åŒåè®®æ”¯æŒ**ï¼šåŒæ—¶æ”¯æŒOpenAI Function Callingå’ŒMCPåè®®
- **å†…ç½®å·¥å…·**ï¼šä»£ç æ‰§è¡Œã€æ–‡ä»¶å¤„ç†ã€ç½‘ç»œæœç´¢
- **é¢†åŸŸå·¥å…·**ï¼šæ’æ”¾è®¡ç®—ã€LCAåˆ†æã€æ•°æ®å¯è§†åŒ–
- **å·¥å…·æ³¨å†Œä¸­å¿ƒ**ï¼šçµæ´»çš„å·¥å…·ç®¡ç†å’Œè°ƒç”¨

### ğŸ“š ä¸“ä¸šé¢†åŸŸçŸ¥è¯†åº“
- **å›ºåºŸçŸ¥è¯†åº“**ï¼šåºŸç‰©åˆ†ç±»ã€å¤„ç†æ–¹æ³•ã€åºŸç‰©å±‚çº§
- **ä¸“ä¸šæœ¯è¯­åº“**ï¼š60+ æœ¯è¯­ï¼Œä¸­è‹±äº’è¯‘ï¼Œç¼©å†™å±•å¼€
- **æ ‡å‡†è§„èŒƒåº“**ï¼š30+ å›½å®¶/å›½é™…æ ‡å‡†ã€æ³•è§„æ”¿ç­–
- **é¢†åŸŸæç¤ºè¯**ï¼š8ç§ä¸“ä¸šåœºæ™¯çš„ä¼˜åŒ–æç¤ºè¯

### ğŸ”„ é¢„å®šä¹‰å·¥ä½œæµ
- **ç§‘ç ”å·¥ä½œæµ**ï¼šæ–‡çŒ®è°ƒç ” â†’ ç ”ç©¶è®¾è®¡ â†’ æ•°æ®åˆ†æ â†’ è®ºæ–‡æ’°å†™
- **æŠ¥å‘Šå·¥ä½œæµ**ï¼šéœ€æ±‚åˆ†æ â†’ æ•°æ®æ”¶é›† â†’ å†…å®¹æ’°å†™ â†’ è´¨é‡æ£€æŸ¥
- **åˆ†æå·¥ä½œæµ**ï¼šæ•°æ®å¯¼å…¥ â†’ æ¸…æ´— â†’ ç»Ÿè®¡åˆ†æ â†’ å¯è§†åŒ–
- **ç¼–ç å·¥ä½œæµ**ï¼šéœ€æ±‚åˆ†æ â†’ è®¾è®¡ â†’ ç¼–ç  â†’ æµ‹è¯• â†’ æ–‡æ¡£

### ğŸ”Œ çµæ´»çš„LLMé›†æˆ
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šOpenAIã€æœ¬åœ°æ¨¡å‹ã€Azure
- **è‡ªå®šä¹‰base_url**ï¼šæ”¯æŒæœ¬åœ°éƒ¨ç½²çš„å…¼å®¹API
- **æµå¼å“åº”**ï¼šæ”¯æŒæµå¼å¯¹è¯
- **Function Calling**ï¼šåŸç”Ÿæ”¯æŒå·¥å…·è°ƒç”¨

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
swagent/
â”œâ”€â”€ agent/              # Agentæ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ base_agent.py       # AgentåŸºç±»
â”‚   â”œâ”€â”€ planner_agent.py    # è§„åˆ’Agent
â”‚   â”œâ”€â”€ react_agent.py      # ReAct Agent
â”‚   â”œâ”€â”€ message_bus.py      # æ¶ˆæ¯æ€»çº¿
â”‚   â””â”€â”€ orchestrator.py     # å¤šAgentç¼–æ’å™¨
â”‚
â”œâ”€â”€ llm/                # LLMæ¥å£å±‚
â”‚   â”œâ”€â”€ base_llm.py         # LLMåŸºç±»
â”‚   â””â”€â”€ openai_client.py    # OpenAIå®¢æˆ·ç«¯
â”‚
â”œâ”€â”€ tools/              # å·¥å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ base_tool.py        # å·¥å…·åŸºç±»
â”‚   â”œâ”€â”€ tool_registry.py    # å·¥å…·æ³¨å†Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ builtin/            # å†…ç½®å·¥å…·
â”‚   â””â”€â”€ domain/             # é¢†åŸŸå·¥å…·
â”‚
â”œâ”€â”€ domain/             # é¢†åŸŸå¢å¼º
â”‚   â”œâ”€â”€ knowledge_base.py   # çŸ¥è¯†åº“
â”‚   â”œâ”€â”€ terminology.py      # æœ¯è¯­åº“
â”‚   â”œâ”€â”€ standards.py        # æ ‡å‡†åº“
â”‚   â”œâ”€â”€ prompts.py          # é¢†åŸŸæç¤ºè¯
â”‚   â””â”€â”€ data/               # é¢†åŸŸæ•°æ®
â”‚
â””â”€â”€ workflows/          # å·¥ä½œæµæ¨¡æ¿
    â”œâ”€â”€ base_workflow.py    # å·¥ä½œæµåŸºç±»
    â”œâ”€â”€ research_workflow.py    # ç§‘ç ”å·¥ä½œæµ
    â”œâ”€â”€ report_workflow.py      # æŠ¥å‘Šå·¥ä½œæµ
    â”œâ”€â”€ analysis_workflow.py    # åˆ†æå·¥ä½œæµ
    â””â”€â”€ coding_workflow.py      # ç¼–ç å·¥ä½œæµ
```

## ğŸ“¦ å®‰è£…

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- pip

### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/swagent.git
cd swagent

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ï¼ˆå¯é€‰ï¼‰å®‰è£…å¯é€‰ä¾èµ–
pip install matplotlib  # ç”¨äºæ•°æ®å¯è§†åŒ–
```

### é…ç½®

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ï¼š

```env
# OpenAIé…ç½®
OPENAI_API_KEY=your_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1  # æˆ–ä½ çš„è‡ªå®šä¹‰URL

# æ¨¡å‹é…ç½®
DEFAULT_MODEL=gpt-4
DEFAULT_TEMPERATURE=0.7
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€Agentä½¿ç”¨

```python
import asyncio
from swagent.agent import ReActAgent
from swagent.llm import OpenAIClient, LLMConfig

# é…ç½®LLM
config = LLMConfig(
    provider="openai",
    model="gpt-4",
    api_key="your_api_key",
    base_url="https://api.openai.com/v1"
)
llm = OpenAIClient(config)

# åˆ›å»ºAgent
agent = ReActAgent("åŠ©æ‰‹", llm=llm)

# æ‰§è¡Œä»»åŠ¡
async def main():
    result = await agent.execute("å¸®æˆ‘åˆ†æä¸€ä¸‹å¡‘æ–™å›æ”¶çš„ç¯å¢ƒæ•ˆç›Š")
    print(result)

asyncio.run(main())
```

### 2. ä½¿ç”¨å·¥å…·ç³»ç»Ÿ

```python
from swagent.tools import ToolRegistry
from swagent.tools.domain import EmissionCalculator

# åˆ›å»ºå·¥å…·æ³¨å†Œä¸­å¿ƒ
registry = ToolRegistry()

# æ³¨å†Œå·¥å…·
calculator = EmissionCalculator()
registry.register(calculator)

# ä½¿ç”¨å·¥å…·
result = await registry.execute_tool(
    "emission_calculator",
    waste_type="food_waste",
    treatment_method="composting",
    quantity=100
)

print(f"ç¢³æ’æ”¾: {result.data['total_emission_kgCO2e']} kg CO2e")
```

### 3. ä½¿ç”¨é¢†åŸŸçŸ¥è¯†åº“

```python
from swagent.domain import get_knowledge_base, get_terminology_db

# çŸ¥è¯†åº“æŸ¥è¯¢
kb = get_knowledge_base()
food_waste = kb.get_waste_category('food_waste')
print(f"é€‚åˆçš„å¤„ç†æ–¹å¼: {food_waste['suitable_treatments']}")

# æœ¯è¯­ç¿»è¯‘
term_db = get_terminology_db()
translation = term_db.translate('MSW', 'zh')
print(f"MSW = {translation}")
```

### 4. æ‰§è¡Œå·¥ä½œæµ

```python
from swagent.workflows import get_workflow_manager

# è·å–å·¥ä½œæµç®¡ç†å™¨
manager = get_workflow_manager()

# æ‰§è¡Œç§‘ç ”å·¥ä½œæµ
result = await manager.execute_workflow(
    'research',
    initial_context={
        'research_topic': 'å›ºä½“åºŸç‰©åŒæ°§æ¶ˆåŒ–æŠ€æœ¯',
        'keywords': ['åŒæ°§æ¶ˆåŒ–', 'æ²¼æ°”', 'æœ‰æœºåºŸç‰©']
    }
)

print(f"å®Œæˆç‡: {result.completion_rate * 100}%")
```

## ğŸ“– æ ¸å¿ƒåŠŸèƒ½

### Agentç³»ç»Ÿ

```python
# 1. PlannerAgent - ä»»åŠ¡è§„åˆ’
from swagent.agent import PlannerAgent

planner = PlannerAgent("è§„åˆ’å¸ˆ", llm=llm)
plan = await planner.plan("è®¾è®¡ä¸€ä¸ªå¨ä½™åƒåœ¾å¤„ç†æ–¹æ¡ˆ")

# 2. ReActAgent - æ¨ç†-è¡ŒåŠ¨å¾ªç¯
from swagent.agent import ReActAgent

react = ReActAgent("åˆ†æå¸ˆ", llm=llm)
result = await react.execute("åˆ†æå¡«åŸ‹å’Œç„šçƒ§çš„ä¼˜ç¼ºç‚¹")

# 3. å¤šAgentåä½œ
from swagent.agent import Orchestrator

orchestrator = Orchestrator(llm=llm)
orchestrator.add_agent(planner)
orchestrator.add_agent(react)

result = await orchestrator.debate(
    "åº”è¯¥ä¼˜å…ˆé€‰æ‹©å¡«åŸ‹è¿˜æ˜¯ç„šçƒ§ï¼Ÿ",
    rounds=2
)
```

### å·¥å…·è°ƒç”¨

```python
# 1. æ’æ”¾è®¡ç®—
from swagent.tools.domain import EmissionCalculator

calculator = EmissionCalculator()
result = await calculator.execute(
    waste_type="plastic",
    treatment_method="recycling",
    quantity=100,
    include_transport=True,
    transport_distance=20
)

# 2. LCAåˆ†æ
from swagent.tools.domain import LCAAnalyzer

analyzer = LCAAnalyzer()
result = await analyzer.execute(
    treatment_method="recycling",
    quantity=100,
    impact_categories=["climate_change", "energy_consumption"]
)

# 3. æ•°æ®å¯è§†åŒ–
from swagent.tools.domain import Visualizer

visualizer = Visualizer()
result = await visualizer.execute(
    chart_type="bar",
    data={"labels": ["å¡«åŸ‹", "ç„šçƒ§", "å›æ”¶"], "values": [580, 450, -800]},
    title="ä¸åŒå¤„ç†æ–¹å¼çš„ç¢³æ’æ”¾"
)
```

### é¢†åŸŸçŸ¥è¯†

```python
# 1. çŸ¥è¯†åº“æŸ¥è¯¢
from swagent.domain import get_knowledge_base

kb = get_knowledge_base()

# è·å–å¤„ç†æ–¹æ³•
method = kb.get_treatment_method('anaerobic_digestion')
print(method['advantages'])

# æ¯”è¾ƒå¤„ç†æ–¹å¼
comparison = kb.compare_treatments('food_waste')

# æœç´¢
results = kb.search_by_keyword('å›æ”¶')

# 2. æœ¯è¯­åº“
from swagent.domain import get_terminology_db

term_db = get_terminology_db()

# ç¿»è¯‘æœ¯è¯­
term_db.translate('WTE', 'zh')  # åƒåœ¾ç„šçƒ§å‘ç”µ

# å±•å¼€ç¼©å†™
term_db.expand_abbreviation('LCA', 'zh')  # ç”Ÿå‘½å‘¨æœŸè¯„ä¼°

# è§£é‡Šæœ¯è¯­
explanation = term_db.explain_term('biogas', detailed=True)

# 3. æ ‡å‡†è§„èŒƒ
from swagent.domain import get_standards_db

std_db = get_standards_db()

# æŸ¥è¯¢æ ‡å‡†
standard = std_db.get_standard('GB18485-2014')
print(standard['key_requirements']['emission_limits'])

# æŸ¥è¯¢æ”¿ç­–
policy = std_db.get_policy('carbon_neutrality_target')

# æœ€ä½³å®è·µ
practice = std_db.get_best_practice('circular_economy')
```

### å·¥ä½œæµæ¨¡æ¿

```python
from swagent.workflows import (
    ResearchWorkflow,
    ReportWorkflow,
    DataAnalysisWorkflow,
    CodingWorkflow
)

# 1. ç§‘ç ”å·¥ä½œæµ
research_wf = ResearchWorkflow()
result = await research_wf.execute({
    'research_topic': 'å›ºåºŸå¤„ç†æŠ€æœ¯',
    'keywords': ['æŠ€æœ¯', 'ç¯å¢ƒ', 'ç»æµ']
})

# 2. æŠ¥å‘Šå·¥ä½œæµ
report_wf = ReportWorkflow()
result = await report_wf.execute({
    'report_type': 'technical',
    'report_purpose': 'å¹´åº¦æ€»ç»“'
})

# 3. æ•°æ®åˆ†æå·¥ä½œæµ
analysis_wf = DataAnalysisWorkflow()
result = await analysis_wf.execute({
    'data_source': 'data.csv',
    'file_format': 'csv'
})

# 4. ä»£ç å¼€å‘å·¥ä½œæµ
coding_wf = CodingWorkflow()
result = await coding_wf.execute({
    'feature_request': 'å®ç°èµ„æºç®¡ç†API'
})
```

## ğŸ“Š ç¤ºä¾‹é¡¹ç›®

å®Œæ•´ç¤ºä¾‹è¯·æŸ¥çœ‹ `examples/` ç›®å½•ï¼š

- `01_basic_agent_demo.py` - AgentåŸºç¡€ä½¿ç”¨
- `02_multi_agent_demo.py` - å¤šAgentåä½œ
- `03_tool_calling_demo.py` - å·¥å…·è°ƒç”¨æ¼”ç¤º
- `04_domain_enhancement_demo.py` - é¢†åŸŸå¢å¼ºæ¼”ç¤º

è¿è¡Œç¤ºä¾‹ï¼š

```bash
python examples/01_basic_agent_demo.py
```

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šé˜¶æ®µæµ‹è¯•
python tests/test_phase1_llm.py          # LLMæ¥å£å±‚
python tests/test_phase2_agents.py       # Agentç³»ç»Ÿ
python tests/test_phase3_multi_agent.py  # å¤šAgentåä½œ
python tests/test_phase4_tools.py        # å·¥å…·ç³»ç»Ÿ
python tests/test_phase4_domain.py       # é¢†åŸŸå¢å¼º
python tests/test_phase5_workflows.py    # å·¥ä½œæµæ¨¡æ¿
```

## ğŸ“š æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ `docs/` ç›®å½•ï¼š

- [ç”¨æˆ·æŒ‡å—](docs/user_guide.md) - å®Œæ•´ä½¿ç”¨æŒ‡å—
- [APIå‚è€ƒ](docs/api_reference.md) - APIæ–‡æ¡£
- [æ¶æ„è®¾è®¡](docs/architecture.md) - ç³»ç»Ÿæ¶æ„è¯´æ˜
- [å¼€å‘æŒ‡å—](docs/development.md) - å¼€å‘è€…æŒ‡å—

## ğŸ›£ï¸ è·¯çº¿å›¾

### å·²å®Œæˆ âœ…
- [x] Phase 1: LLMæ¥å£å±‚
- [x] Phase 2: AgentåŸºç¡€æ¡†æ¶
- [x] Phase 3: å¤šAgentåä½œ
- [x] Phase 4: å·¥å…·ç³»ç»Ÿ
- [x] Phase 4: é¢†åŸŸå¢å¼º
- [x] Phase 5: å·¥ä½œæµæ¨¡æ¿

### è®¡åˆ’ä¸­ ğŸ“‹
- [ ] Phase 6: é«˜çº§åŠŸèƒ½
  - [ ] å¤šæ¨¡å‹æ”¯æŒï¼ˆAnthropic, Cohereç­‰ï¼‰
  - [ ] æŒä¹…åŒ–å­˜å‚¨ï¼ˆå¯¹è¯å†å²ã€çŸ¥è¯†åº“æ›´æ–°ï¼‰
  - [ ] Web UIç•Œé¢
  - [ ] APIæœåŠ¡
  - [ ] ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ›´å¤šé¢†åŸŸå·¥å…·
- [ ] æ›´å¤šå·¥ä½œæµæ¨¡æ¿

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®ã€‚

### è´¡çŒ®æ–¹å¼
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- OpenAI - GPTæ¨¡å‹å’ŒFunction Calling
- IPCC - æ¸©å®¤æ°”ä½“æ’æ”¾å› å­æ•°æ®
- ISO - LCAæ ‡å‡†ï¼ˆISO 14040/14044ï¼‰
- ä¸­å›½å›½å®¶æ ‡å‡† - å›ºåºŸç®¡ç†æ ‡å‡†è§„èŒƒ

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [https://github.com/yourusername/swagent](https://github.com/yourusername/swagent)
- Issues: [https://github.com/yourusername/swagent/issues](https://github.com/yourusername/swagent/issues)

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸ï¼

---

**Built with â¤ï¸ for sustainable waste management**
